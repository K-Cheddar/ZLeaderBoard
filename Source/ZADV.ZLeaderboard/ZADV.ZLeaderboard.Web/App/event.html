<div class="container event-form">
    <h2 ng-if="model.createEvent">Create Event</h2>
    <h2 ng-if="!model.createEvent">Edit Event</h2>
    <button ng-disabled="eventForm.$invalid" type="button" class="btn btn-primary btn-right" ng-click="save()">Save</button>
    <form name="eventForm">
        <div class="form-group">
            <label for="eventName">Event Name *</label>
            <input type="text" class="form-control" name="eventName" id="eventName" placeholder="Name" ng-model="model.event.Name" required />
            <small ng-if="eventForm.eventName.$invalid" style="color:red">Name is required</small>
        </div>
        <div class="form-group">
            <label for="startAt">Start *</label>
            <!--<input type="datetime-local" class="form-control" name="startAt" id="startAt" ng-model="model.event.StartAt" required />-->
            <div class="">
                <div class="dropdown">
                    <a class="dropdown-toggle" id="startAt" role="button" data-toggle="dropdown">
                        <div class="input-group data">
                            <input type="text" class="form-control dateinput" name="startAt" data-ng-model="model.event.StartAt" required>
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker data-ng-model="model.event.StartAt" data-datetimepicker-config="{ dropdownSelector: '#startAt' }"></datetimepicker>
                    </ul>
                </div>
            </div>
            <small ng-if="eventForm.startAt.$invalid" style="color:red">Start Date and Time are required</small>
        </div>
        <div class="form-group">
            <label for="endAt">End *</label>
            <div class="">
                <div class="dropdown">
                    <a class="dropdown-toggle" name="endAt" id="endAt" role="button" data-toggle="dropdown">
                        <div class="input-group data">
                            <input type="text" class="form-control dateinput" name="endAt" data-ng-model="model.event.EndAt" required> 
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker data-ng-model="model.event.EndAt" data-datetimepicker-config="{ dropdownSelector: '#endAt' }"></datetimepicker>
                    </ul>
                </div>
            </div>
            <small ng-if="eventForm.endAt.$invalid" style="color:red">End Date and Time are required</small>
        </div>
        <div class="form-group">
            <label for="eventName">Event Description</label>
            <textarea class="form-control" rows="5" name="eventDescription" placeholder="Optional description of event" ng-model="model.event.Description"></textarea>
        </div>
        <div class="checkbox">
            <label>
                Is Active <input type="checkbox" ng-model="model.event.IsActive" />
            </label>
        </div>
    </form>

    <br />
    <h3>Add Participant</h3>


    <form name="participantForm" ng-submit="addParticipant()">
        <div class="form-group">
            <label for="participantName">Participant Name *</label>
            <input type="text" class="form-control" name="participantName" id="participantName" placeholder="Name" ng-model="model.participantName" required />
            <small ng-if="participantForm.participantName.$invalid" style="color:red">Name is required</small>
        </div>
        <!--<div class="form-group">
            <label for="imageFile">Image</label>
            <input type="file" id="imageFile" ng-model="model.participantImage" flow-btn>
            <p class="help-block">Upload a participant image here</p>
        </div>-->
        <button ng-disabled="participantForm.$invalid" type="submit" class="btn btn-primary btn-smx">Add</button>
    </form>


    <br /><br />
    <h4>Participants</h4>
    <p ng-if="model.participants.length == 0"> No participants yet!</p>
    <table class="table table-hover" style="width:30%">
        <tr ng-repeat="participant in model.participants">
            <td height="40" width="50"><img id="pImage" style="max-width:70px; max-height: 100px" />{{$index +1}}.</td>
            <td>{{participant.Name}}</td>
            <td width="20"><a href="" ng-click="removeParticipant($index)" style="color:black"><i class="fa fa-times fa-lg" aria-hidden="true"></i></a></td>
        </tr>
    </table>
    <a href="#main" class="btn btn-danger btn-left">Cancel</a>
    <button ng-disabled="eventForm.$invalid" type="button" class="btn btn-primary btn-right"ng-click="save()">Save</button>
</div>